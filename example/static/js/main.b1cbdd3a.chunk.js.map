{"version":3,"sources":["data/init.js","data/fake-api.js","app.js","index.js"],"names":["agents","id","stamp","label","roles","persons","loadAgentList","Promise","resolve","init","App","useState","initRoles","setRoles","className","API","loadRoleList","deleteAgent","a","role","newRoles","reduce","acc","r","accP","p","handleDelete","addAgent","find","handleAdd","ReactDOM","render","document","getElementById"],"mappings":"8OAAaA,EAAS,CACrB,CAAEC,GAAI,IAAKC,MAAO,IAAKC,MAAO,QAC9B,CAAEF,GAAI,IAAKC,MAAO,IAAKC,MAAO,SAGlBC,EAAQ,CACpB,CACCH,GAAI,IACJE,MAAO,QACPE,QAAS,CAAC,CAAEJ,GAAI,IAAKC,MAAO,IAAKC,MAAO,UAEzC,CACCF,GAAI,IACJE,MAAO,QACPE,QAAS,CAAC,CAAEJ,GAAI,IAAKC,MAAO,IAAKC,MAAO,WCZ7BG,EAAgB,kBAAMC,QAAQC,QAAQC,ICwCpCC,EArCH,WAAO,IAAD,EACSC,mBAASC,GADlB,mBACVR,EADU,KACHS,EADG,KAwBjB,OACC,oCACC,wBAAIC,UAAU,YAAd,eACA,kBAAC,eAAD,CACCR,cAAeS,EACfC,aAAc,kBD9BU,SAAAZ,GAAK,OAAIG,QAAQC,QAAQJ,GC8B7BW,CAAiBX,IACrCa,YAAa,SAAAC,GAAC,OAlBI,SAAC,GAAkB,IAAhBjB,EAAe,EAAfA,GAAIkB,EAAW,EAAXA,KACrBC,EAAWhB,EAAMiB,QAAO,SAACC,EAAKC,GACnC,GAAIA,EAAEtB,KAAOkB,EAAM,MAAM,GAAN,mBAAWG,GAAX,CAAgBC,IACnC,IAAMlB,EAAUkB,EAAElB,QAAQgB,QAAO,SAACG,EAAMC,GACvC,OAAIA,EAAExB,KAAOA,EAAU,GAAN,mBAAWuB,GAAX,CAAiBC,IAC3BD,IACL,IACH,MAAM,GAAN,mBAAWF,GAAX,gBAAqBC,EAArB,CAAwBlB,gBACtB,IACHQ,EAASO,GASWM,CAAaR,IAC/BS,SAAU,SAAAT,GAAC,OA5BI,SAAC,GAAkB,IAAhBjB,EAAe,EAAfA,GAAIkB,EAAW,EAAXA,KAClBC,EAAWhB,EAAMiB,QAAO,SAACC,EAAKC,GACnC,GAAIA,EAAEtB,KAAOkB,EAAM,MAAM,GAAN,mBAAWG,GAAX,CAAgBC,IACnC,IAAMlB,EAAO,sBAAOkB,EAAElB,SAAT,CAAkBL,EAAO4B,MAAK,SAAAV,GAAC,OAAIA,EAAEjB,KAAOA,OACzD,MAAM,GAAN,mBAAWqB,GAAX,gBAAqBC,EAArB,CAAwBlB,gBACtB,IACHQ,EAASO,GAsBQS,CAAUX,Q,4BC5B7BY,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b1cbdd3a.chunk.js","sourcesContent":["export const agents = [\n\t{ id: '1', stamp: '1', label: 'Toto' },\n\t{ id: '2', stamp: '2', label: 'Titi' },\n];\n\nexport const roles = [\n\t{\n\t\tid: '1',\n\t\tlabel: 'Admin',\n\t\tpersons: [{ id: '1', stamp: '1', label: 'Toto' }],\n\t},\n\t{\n\t\tid: '2',\n\t\tlabel: 'Guest',\n\t\tpersons: [{ id: '2', stamp: '2', label: 'Titi' }],\n\t},\n];\n","import * as init from './init';\n\nexport const loadAgentList = () => Promise.resolve(init.agents);\n\nexport const loadRoleList = roles => Promise.resolve(roles);\n","import React, { useState } from 'react';\nimport { Habilitation } from '@inseefr/iam';\nimport * as API from './data/fake-api';\nimport { agents, roles as initRoles } from './data/init';\n\nconst App = () => {\n\tconst [roles, setRoles] = useState(initRoles);\n\n\tconst handleAdd = ({ id, role }) => {\n\t\tconst newRoles = roles.reduce((acc, r) => {\n\t\t\tif (r.id !== role) return [...acc, r];\n\t\t\tconst persons = [...r.persons, agents.find(a => a.id === id)];\n\t\t\treturn [...acc, { ...r, persons }];\n\t\t}, []);\n\t\tsetRoles(newRoles);\n\t};\n\n\tconst handleDelete = ({ id, role }) => {\n\t\tconst newRoles = roles.reduce((acc, r) => {\n\t\t\tif (r.id !== role) return [...acc, r];\n\t\t\tconst persons = r.persons.reduce((accP, p) => {\n\t\t\t\tif (p.id !== id) return [...accP, p];\n\t\t\t\treturn accP;\n\t\t\t}, []);\n\t\t\treturn [...acc, { ...r, persons }];\n\t\t}, []);\n\t\tsetRoles(newRoles);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h1 className=\"centered\">IAM example</h1>\n\t\t\t<Habilitation\n\t\t\t\tloadAgentList={API.loadAgentList}\n\t\t\t\tloadRoleList={() => API.loadRoleList(roles)}\n\t\t\t\tdeleteAgent={a => handleDelete(a)}\n\t\t\t\taddAgent={a => handleAdd(a)}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '@inseefr/wilco/dist/index.css';\nimport '@inseefr/iam/dist/index.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}